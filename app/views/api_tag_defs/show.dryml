<def tag="param-list">
  <ul if="&this.any?">
    <li repeat><%= this.first %>
      <param-list with="&this.last"/>
    </li>
  </ul>
</def>
  
<show-page title="#{h this.short_def_line}">

  <aside-content:>
    <api-navigation current="&this"/>
  </aside-content:>
  
  <content-header:>
    <h2><view:short-def-line/></h2>      
    <view:short-description/>
  </content-header:>
  
  <content-body:>
    <if:tag-parameters>
      <section class="parameters">
        <h3>Parameters</h3>
        <param-list/>
      </section>
    </if>

    <view:description/>
    
    <a class="show-source" href="#" onclick="new Effect.BlindDown($(this).next(), {duration: 0.3})">Show Source</a>
    <div style="display:none">
      <pre class="dryml"><code><view:source no-wrapper/></code></pre>
    </div>

    <section class="collection-section">
      <h3 class="collection-heading">Comments</h3>
      
      <p class="show-source"><a href="#" onclick="Effect.toggle($(this).parentNode.next(), 'blind', {duration: 0.3})">Show Source</a></p>
      <div class="source" style="display:none">
        <pre class="dryml"><code><view:source no-wrapper/></code></pre>
      </div>

      <collection:comments/>

      <section class="add-to-collection" if="&can_create?(@api_tag_def.comments)">
        <h3 class="add-form-heading">Add a Comment</h3>
        <form with="&@api_tag_def.comments.new" owner="api_tag_def" method="post" without-cancel>
          <field-list: skip="api_tag_def, markdown"/>
          <submit: label="Add"/>
        </form>
      </section>
    </section>

  </content-body:>
  
</show-page>